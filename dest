/*! By da宗熊 2016-01-31 v1.1.0 https://github.com/linfenpan/projectM.git */
!function(a){function b(){}function c(a){return k.call(a).split(' ')[1].toLowerCase().slice(0,-1)}function d(a){return'function'===c(a)}function e(a,b){for(var c in a)a.hasOwnProperty(c)&&b&&b(a[c],c,a)}function f(a,b,c){return a.replace(/\{([^}]*)}/g,function(a,b){try{return eval('obj.'+b)}catch(d){return c||null}})}function g(){var a=arguments,b=a[0];return a=l.call(a,0),e(a,function(a){e(a,function(a,d){var e=c(a);switch(e){case'object':b[d]={},g(b[d],a);break;case'array':b[d]=[],g(b[d],a);break;default:b[d]=a}})}),b}function h(a){return a.replace(/^\s*|\s*$/g,'')}var i=a.document,j=i.head||i.getElementsByTagName('head')[0],k=Object.prototype.toString,l=[].slice,m={};m.normal=function(a){return a.replace(/\/\.\//g,'//').replace(/([^:])\/{2,}/g,'$1/').replace(/[^\/]+\/\.\.\/([^\/]*)/g,'$1')},m.isAbsolute=function(a){return/:\/\//.test(a)},m.join=function(){var a=[].join.call(arguments,'/');return this.normal(a)},m.dir=function(a){return a.replace(/(\?|#).*$/,'').replace(/(.*\/).*$/,'$1')},m.ext=function(a){return a.replace(/.*\.(.*)$/,'$1')};var n=null,o=null;!function(a){function b(a,b){return h[a]?void h[a].push(b):(h[a]=[b],void c(a))}function c(a){var b=i.createElement('script');b.async=!0,'onload'in b?(b.onload=function(){d.call(this,!1)},b.onerror=function(){d.call(this,!0)}):b.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&d.call(this)},b.src=a,j.appendChild(b),b=null}function d(a){this.onload=this.onerror=this.onreadystatechange=null;var b=this.getAttribute('src');e(h[b],function(c,d){c(a,b)}),j.removeChild(this),h[b]=null}function f(){if(g&&'interactive'===g.readyState)return g.getAttribute('src');for(var a=j.getElementsByTagName('script'),b=a.length-1;b>=0;b--){var c=a[b];if('interactive'===c.readyState)return g=c,g.getAttribute('src')}}var g,h={};n=b,o=f}(a);var p;!function(a){function c(a,b){var c=[];return e(b,function(a,b){c.push(b+'='+a)}),c=c.join('&'),c&&(c=(a.indexOf('?')>-1?'&':'?')+c),a+c}var f;f=a.XMLHttpRequest?function(){return new XMLHttpRequest}:function(){return new ActiveXObject('Microsoft.XMLHTTP')},p=function(a,e,g){var h=f();d(e)?(g=e,e={}):(e=e||{},g=g||b),h.onreadystatechange=function(){4==h.readyState&&(h.onreadystatechange=null,200==h.status||302==h.status?g(!1,this.responseText,this,a):g(!0))};var i=(e.method||'GET').toUpperCase(),j=e.sync===!0?!1:!0,k=e.data||{};'GET'===i?(h.open(i,c(a,k),j),h.send(null)):(h.open(i,a,j),h.setRequestHeader('Content-Type','application/x-www-form-urlencoded'),h.send(k))}}(a);var q=/\/\*(.|\n|\s)*?\*\/|\/\/[^\n\r]*/g,r=/[^.]require\(["']([^'"]+)["']\)/g,s={},t=null,u={},v={},w=1,x=0,y=null,z=!!i.attachEvent,A;!function(a){function b(a){a=a||{},g(s,a.template||{}),g(v,a.alias||{}),c(a)}function c(b){var c=a.location.href,d=b.basePath;if(d||!t)if(t=m.dir(c),d)t=m.isAbsolute(d)?d:m.join(m.dir(c),d);else{var e=i.getElementById('seedNode');if(e){var f=m.dir(node.hasAttribute?e.src:e.getAttribute('src',4));t=m.dir(f)}e=null}}A=b}(a);var B;!function(a){function b(a,b){arguments.length<=1?(b=a,a=null,d(b)):c(a,b)}function c(a,b){var c=D(a);c.state=w,c.exports=b}function d(a){if(y=null,z){var b=o(),c=D(b);c.exports=a}else y=a}B=b}(a);var C,D;!function(a){function c(a){if(!u[a]){var b;b=v[a]?{url:a,state:w,exports:v[a]}:{url:a,state:x,exports:null},u[a]=b}return u[a]}function h(a){return c(a)}function k(a,b){return a=f(a,s),m.isAbsolute(a)?a:m.join(b||t,a)}function o(a,b){var c=f(a,s);return v[c]||u[c]||(a=k(a,b)),a}function A(){var a=arguments,c=a[a.length-1],e=l.call(a,0);d(c)?e.pop():c=b,B(t,e,c)}function B(c,d,f){function g(){0>=i&&(f.apply(a,h),g=b)}var h=[],i=d.length;e(d,function(a,b){var d=o(a,c);E(d,function(a,c){h[b]=a,i--,g()})}),g()}function E(a,b){var d;if(v[a])return d=c(a),b(d.exports,d);a=o(a),d=c(a);var e=d.state;if(e==w)return b(d.exports,d);var f=m.ext(a).toLowerCase(),g=L[f]||L._;g(a,function(c){function e(a){d.state=w,d.exports=a,b(d.exports,d)}switch(f){case'js':d.state!==w?F(a,e):e(d.exports);break;default:e(c)}})}function F(a,b){var c=h(a);z?y=c.exports:c.exports=y,G(c,function(a){b(a)}),y=null}function G(a,b){var c=a.exports,e=a.url;a.state===w?b(c):d(c)?H(e,c,function(c){a.state=w,b(c)}):(a.state=w,b(c))}function H(a,b,c){var d=b.toString();d=d.replace(q,'').replace(/\s*/g,'');for(var e,f=[];e=r.exec(d);)f.push(e[1]);var g=m.dir(a);B(g,f,function(){var d={exports:{},url:a};b(I(g),d.exports,d),c(d.exports)})}function I(b){function c(c,f){if(!f)return u[o(c,b)].exports;var g=l.call(arguments,0);e(g,function(a,c){g[c]=d(a)?a:o(a,b)}),A.apply(a,g)}return J(c,b),c}function J(a,b){g(a,{loader:L,url:function(a){return k(a,b)},css:function(a){K(this.url(a))}})}function K(a){if(!M[a]){var b=i.createElement('link');b.rel='stylesheet',b.href=a,j.appendChild(b)}}var L={js:function(a,b){n(a,function(c){if(c)throw'load `'+a+'` fail!';b()})},_:function(a,b){p(a,function(c,d){if(c)throw'load `'+a+'` fail!';b(d)})},add:function(a,b){this[a]=b}},M={};J(A,t),D=h,C=A}(a),g(C,{config:A,ajax:p,loadScript:n}),a.require=C,a.define=B,A()}(window);
